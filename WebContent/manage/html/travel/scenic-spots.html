<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="chrome=1,IE=edge">
	<title>游西藏-游西藏首页显示-热门景点管理</title>
	<link rel="stylesheet" href="../../resources/plugin/baseCSS-1.0.4.min.css" />
	<link rel="stylesheet" href="../../resources/css/base.css" />
	<link rel="stylesheet" href="../../resources/css/travel/formWeb.css" />
	<style>
		/* 闭合浮动 */
		.floatfix:after {
			content: "";
			display: table;
			clear: both;
		}
	</style>
	<script src="../../resources/plugin/respond.min.js" type="text/javascript"></script>
</head>

<body>
	<form id="scenic-form">
		<!-- main { -->
		<div class="main">
			<!-- 页面位置-->
			<div class="location mb40">
				<label>您当前位置为:</label>
				<span><a>游西藏</a> -</span>
				<span><a href="travel.html" target="_self">游西藏首页显示</a> -</span>
				<span><a>热门景点管理</a></span>
			</div>

			<!-- 数据操作 -->
			<div class="operManage">
				<button type="button" class="btn-sure">按收藏量排序</button>
				<button type="button" class="btn-sure">查看</button>
			</div>

			<!-- 模块管理 { -->
			<div class="muduleManage filament_solid_ddd">

				<div class="contClassify">
					<h2 class="title">景点一</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<div class="contClassify">
					<h2 class="title">景点二</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<div class="contClassify">
					<h2 class="title">景点三</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<div class="contClassify">
					<h2 class="title">景点四</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<div class="contClassify">
					<h2 class="title">景点五</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<div class="contClassify">
					<h2 class="title">景点六</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<div class="contClassify">
					<h2 class="title">景点七</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<div class="contClassify">
					<h2 class="title">景点八</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<div class="contClassify">
					<h2 class="title">景点九</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<div class="contClassify">
					<h2 class="title">景点十</h2>

					<div class="formLine mt15">
						<label>显示景点:</label>
						<div class="select-base">
							<i class="w-140">请选择地区</i>
							<dl>
								<dt>拉萨地区</dt>
								<dt>那曲地区</dt>
								<dt>阿里地区</dt>
								<dt>日喀则地区</dt>
								<dt>山南地区</dt>
								<dt>林芝地区</dt>
								<dt>昌都地区</dt>
							</dl>
						</div>
						<div class="select-base ml-10">
							<i class="w-140">请选择景点</i>
							<dl style="">
								<dt>拉萨市</dt>
								<dt>布达拉宫</dt>
								<dt>纳木错</dt>
							</dl>
						</div>
					</div>
				</div>

				<!-- 保存 -->
				<div class="formLine">
					<div class="saveOper">
						<button type="button" class="save btn-sure">预览</button>
						<button type="button" class="save btn-sure ml20">保存</button>
					</div>
				</div>

			</div>
			<!-- } 模块管理 -->
		</div>
		<!-- } main -->
	</form>
	<!-- JS引用部分 -->
	<script src="../../resources/plugin/jquery-1.11.1.min.js" type="text/javascript"></script>
	<script src="../../resources/plugin/baseCSS-1.0.4.js" type="text/javascript"></script>
	<script src="../../resources/js/base.js" type="text/javascript"></script>
	<script src="../../resources/js/base-tabel.js" type="text/javascript"></script>
	<script src="../../resources/plugin/jquery.rimi.validation.js" type="text/javascript"></script>
	<script src="../../resources/js/dataValidation.js" type="text/javascript"></script>
	<script type="text/javascript">
		// 选择后消除错误提示
		$(document).on("click", ".contClassify .formLine .select-base dt", function() {
			var $this = $(this),
				errMesg = $this.parents(".select-base").next(".errMesg"),
				errMesg_len = errMesg.length;
			// 后面有错误信息
			if(errMesg_len > 0) {
				// 移除错误信息
				errMesg.remove();
			}
		});
		
		// 保存验证
		$(".save.btn-sure").click(function () {
			var formSlt = $(".contClassify .formLine"),
				formSlt_len = formSlt.length,
				region_pass = true,
				destScenic_pass = true;

			// 进行遍历验证
			for (var i = 0; i < formSlt_len; i++) {
				var region = formSlt.eq(i).find(".select-base:first"),
					destScenic = formSlt.eq(i).find(".select-base:last"),
					region_val = region.children("i").text(),
					region_def = region_val.substr(0, 3),
					destScenic_val = destScenic.children("i").text(),
					destScenic_def = destScenic_val.substr(0, 3);

				// 地区未选择（为默认值）
				if ("请选择" == region_def) {
					if (region.next(".errMesg").length == 0) {
						creatErrMesg(region, "请选择地区", "top");
					}
					// 设置状态为不通过
					region_pass = false;
				}
				// 地区已选择
				else {
					region.next(".errMesg").remove();
				}

				// 景点未选择
				if ("请选择" == destScenic_def) {
					if (destScenic.next(".errMesg").length == 0) {
						creatErrMesg(destScenic, "请选择地区", "top");
					}
					// 设置状态为不通过
					destScenic_pass = false;
				}
				// 景点已选择
				else {
					destScenic.next(".errMesg").remove();
				}
			}

			// 地区验证
			if (region_pass) {
				// 设置全局验证变量
				VLDRST.Region = true;
			} else {
				VLDRST.Region = false;
			}

			// 景点验证 
			if (destScenic_pass) {
				// 设置全局验证变量
				VLDRST.DestScenic = true;
			} else {
				VLDRST.DestScenic = false;
			}

			// 验证通过提交
			if (VLDRST.Region && VLDRST.DestScenic) {
				msgBox("保存成功！", "pass", 2600);
				$("#scenic-form").submit();
				return true;
			} else {
				msgBox("还有未选择的项，请检查！", "erro", 2600);
				return false;
			}
		});
	</script>

	<!-- 利用空闲时间预加载指定页面 -->
	<link rel="prefetch">
	<!-- IE10+ -->
	<link rel="next">
	<!-- Firefox -->
	<link rel="prerender">
	<!-- Chrome -->
</body>

</html>