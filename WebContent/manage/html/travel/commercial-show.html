<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="chrome=1,IE=edge">
	<title>游西藏-商户管理-商户汇总页显示</title>
	<link rel="stylesheet" href="../../resources/plugin/baseCSS-1.0.4.min.css" />
	<link rel="stylesheet" href="../../resources/css/base.css" />
	<script src="../../resources/plugin/respond.min.js" type="text/javascript"></script>
	<link rel="stylesheet" href="../../resources/css/home/imgDescr.css" />
	<link rel="stylesheet" href="../../resources/css/travel/formWeb.css" />
</head>

<body>
	<!-- main { -->
	<div class="main">
		<form id="commer-show-form" name="">
			<!-- 页面位置-->
			<div class="location">
				<label>您当前位置为:</label>
				<span><a>游西藏</a> -</span>
				<span><a href="travel.html" target="_self">商户管理</a> -</span>
				<span><a>商户汇总页显示</a></span>
			</div>

			<!-- 查看按钮 -->
			<!--			<div class="operManage">
				<button type="button" class="lookup btn-sure">查看</button>
			</div>-->

			<!-- 模块管理 { -->
			<div class="muduleManage filament_solid_ddd pos-rela">
				<h2 class="lev2">Banner广告位</h2>

				<div class="posidSet-unit mt35">
					<i>图片1</i>
					<div class="left">

						<div class="formLine">
							<label>图片:</label>
							<button type="button" class="btn-base uploadImg">点击上传图片</button>
							<span class="txt-suggest ml20">推荐尺寸：800 * 360</span>
						</div>
						<div class="formLine">
							<label>链接至:</label>
							<input id="" name="" type="text" maxlength="" value="" class="w-260">
						</div>
					</div>
					<div class="right mt10">
						<label>缩略图:</label>
						<img src="../../resources/img/ele/loadImg_default_d.jpg" title="缩略图名称" alt="请上传图片" class="style-d">
					</div>
				</div>

				<div class="posidSet-unit">
					<i>图片2</i>
					<div class="left">

						<div class="formLine">
							<label>图片:</label>
							<button type="button" class="btn-base uploadImg">点击上传图片</button>
							<span class="txt-suggest ml20">推荐尺寸：800 * 360</span>
						</div>
						<div class="formLine">
							<label>链接至:</label>
							<input id="" name="" type="text" maxlength="" value="" class="w-260">
						</div>
					</div>
					<div class="right mt10">
						<label>缩略图:</label>
						<img src="../../resources/img/ele/loadImg_default_d.jpg" title="缩略图名称" alt="请上传图片" class="style-d">
					</div>
				</div>

				<div class="posidSet-unit">
					<i>图片3</i>
					<div class="left">

						<div class="formLine">
							<label>图片:</label>
							<button type="button" class="btn-base uploadImg">点击上传图片</button>
							<span class="txt-suggest ml20">推荐尺寸：800 * 360</span>
						</div>
						<div class="formLine">
							<label>链接至:</label>
							<input id="" name="" type="text" maxlength="" value="" class="w-260">
						</div>
					</div>
					<div class="right mt10">
						<label>缩略图:</label>
						<img src="../../resources/img/ele/loadImg_default_d.jpg" title="缩略图名称" alt="请上传图片" class="style-d">
					</div>
				</div>

				<!--<div class="posidSet-unit">
					<i>图片4</i>
					<div class="left">

						<div class="formLine">
							<label>图片:</label>
							<button type="button" class="btn-base uploadImg">点击上传图片</button>
						</div>
						<div class="formLine">
							<label>链接至:</label>
							<input id="" name="" type="text" maxlength="" value="" class="w-260">
							<span class="reqItem">*</span>
						</div>
					</div>
					<div class="right mt10">
						<label>缩略图:</label>
						<img src="../../resources/img/ele/loadImg_default_d.jpg" title="缩略图名称" alt="请上传图片" class="style-d">
					</div>
				</div>
-->
			</div>
			<!-- } 模块管理 -->

			<!-- 模块管理 { -->
			<div class="muduleManage filament_solid_ddd pos-rela">
				<h2 class="lev2">官方推荐</h2>
				<button type="button" class="btn-base pos-abso" style="top:20px;right:30px;">显示最热</button>
				<div class="formLine mt35">
					<label>商户1链接:</label>
					<input id="commerLink1" name="" type="text" class="w-260">
					<label class="w-auto">或编号:</label>
					<input id="commerNum1" type="text" class="w-200">
				</div>

				<div class="formLine">
					<label>商户2链接:</label>
					<input id="commerLink2" name="" type="text" class="w-260">
					<label class="w-auto">或编号:</label>
					<input id="commerNum2" type="text" class="w-200">
				</div>

				<div class="formLine">
					<label>商户3链接:</label>
					<input id="commerLink3" name="" type="text" class="w-260">
					<label class="w-auto">或编号:</label>
					<input id="commerNum3" type="text" class="w-200">
				</div>

				<!-- 操作 -->
				<div class="saveOper mt30">
					<button type="button" class="btn-sure mr30">预览</button>
					<button type="button" class="save btn-sure mr100">保存</button>
				</div>

			</div>
			<!-- } 模块管理 -->
		</form>
	</div>
	<!-- } main -->

	<!-- JS引用部分 -->
	<script src="../../resources/plugin/jquery-1.11.1.min.js" type="text/javascript"></script>
	<script src="../../resources/plugin/baseCSS-1.0.4.js" type="text/javascript"></script>
	<script src="../../resources/js/base.js" type="text/javascript"></script>
	<script src="../../resources/plugin/jquery.rimi.validation.js" type="text/javascript"></script>
	<script src="../../resources/js/dataValidation.js" type="text/javascript"></script>
	<script type="text/javascript">
		
		/* “Banner广告位”链接验证 */
		$(document).on("blur", ".muduleManage:first input[type='text']", function() {
			var $this = $(this),
				thisVal = $this.val();

			// 执行验证并设置验证结果的状态
			if ($.VLDTOR.IsWebUrl(thisVal) && $.trim(thisVal) != "") {
				$this.next(".errMesg").remove();
			} else {
				creatErrMesg(this, "只能为字母、数字及常用符号", "right");
			}
		});
		
		/* “官方推荐”链接验证 */
		$(document).on("blur", ".muduleManage:eq(1) input[id^='commerLink']", function() {
			var $this = $(this),
				thisVal = $this.val(),
					nextVal = $(this).siblings("input[id^='commerNum']").val(),
					nextValLen = nextVal.length > 0;
			var regTest = $.VLDTOR.IsWebUrl(thisVal),
					regNull = $.trim(thisVal) != "";

			if(nextValLen){
				valid_txtBox_create(this,regTest,'不能为中文或空格','top');
			}else{
				valid_txtBox_create(this,regTest && regNull,'不能为中文或空格,且与编号必填一项','top');
				if(regTest && regNull){
					$(this).siblings('.number').next('span.errMesg').remove();
				}
			}
		});
		
		/* “官方推荐”编号验证 */
		$(document).on("blur", ".muduleManage:eq(1) input[id^='commerNum']", function() {
			var thisVal = $(this).val(),
					prevVal = $(this).siblings("input[id^='commerLink']").val(),
					preValLen = prevVal.length > 0;
			var regTest = $.VLDTOR.IsEnNum(thisVal),
					regNull = $.trim(thisVal) != "";
			if(preValLen){
				valid_txtBox_create(this,regTest || thisVal == "",'只能为数字、英文或空','top');
			}else{
				valid_txtBox_create(this,regTest && regNull,'只能为数字、英文,且与链接必填一项','top');
				if(regTest && regNull){
					$(this).siblings('.toLink').next('span.errMesg').remove();
				}
			}
		});
		
		/* 保存验证 */
		$(".save.btn-sure").click(function() {
			var bannerLink = $(".muduleManage:first input[type='text']"),
				bannerLink_len = bannerLink.length,
				commerLink = $(".muduleManage:eq(1) input[id^='commerLink']"),
				commerLink_len = commerLink.length,
				commerNum = $(".muduleManage:eq(1) input[id^='commerNum']");
			
			// “Banner广告位”遍历验证
			for(var i = 0; i < bannerLink_len; i++) {
				bannerLink.eq(i).blur();
			}
			
			// “官方推荐”链接遍历验证
			for(var i = 0; i < commerLink_len; i++) {
				commerLink.eq(i).blur();
			}
			
			// “官方推荐”编号遍历验证
			for(var i = 0; i < commerLink_len; i++) {
				commerNum.eq(i).blur();
			}
			
			// 验证通过
			var errInfo = $(".errMesg").length == 0;
			if (errInfo) {
				msgBox("保存成功！", "pass", 2600);
				$("#commer-show-form").submit();
			}
			// 验证未通过
			else {
				msgBox("输入的内容有误，请检查！", "erro", 2600);
				return false;
			}
		});
	</script>

	<!-- 利用空闲时间预加载指定页面 -->
	<link rel="prefetch">
	<!-- IE10+ -->
	<link rel="next">
	<!-- Firefox -->
	<link rel="prerender">
	<!-- Chrome -->
</body>

</html>
